# 飞秋通讯用户指南 (Feiqiu Communication User Guide)

欢迎使用飞秋通讯！这是一款基于局域网的即时通讯应用，支持 FeiQ/IPMsg 协议。

## 目录 (Table of Contents)

- [快速开始](#快速开始-quick-start)
- [功能介绍](#功能介绍-features)
- [使用教程](#使用教程-tutorial)
- [常见操作](#常见操作-common-operations)
- [高级功能](#高级功能-advanced-features)
- [技巧与窍门](#技巧与窍门-tips-and-tricks)

---

## 快速开始 (Quick Start)

### 首次使用 (First Time Use)

1. **启动应用** - 双击应用程序图标启动飞秋通讯
2. **自动发现** - 应用会自动发现同一局域网内的其他在线用户
3. **开始聊天** - 双击左侧联系人列表中的用户，即可开始聊天

### 基本界面 (Basic Interface)

```
┌─────────────────────────────────────────────────┐
│  飞秋通讯                          ─ □ ✕        │
├──────────┬──────────────────────┬──────────────┤
│          │                      │              │
│ 联系人   │   聊天窗口            │   详情       │
│          │                      │              │
│ • 用户A  │  [消息气泡...]        │              │
│ • 用户B  │                      │              │
│ • 用户C  │  [输入框]            │              │
│          │  [发送]              │              │
│          │                      │              │
└──────────┴──────────────────────┴──────────────┘
```

**界面说明：**

- **左侧** - 联系人列表（显示在线用户）
- **中间** - 聊天窗口（显示消息历史）
- **右侧** - 详细信息（选中用户的详情）

---

## 功能介绍 (Features)

### 即时通讯 (Instant Messaging)

飞秋通讯支持实时文本消息传输，具有以下特点：

- ✅ **即时送达** - 消息通过 UDP 协议快速传输
- ✅ **已读回执** - 查看消息是否已被对方阅读
- ✅ **消息历史** - 自动保存聊天记录，支持分页查看
- ✅ **离线消息** - 本地存储所有消息，即使离线也能查看

**适用场景：**

- 办公环境快速沟通
- 局域网文件分享前的沟通
- 不需要互联网的即时通讯

### 文件传输 (File Transfer)

支持点对点文件传输，无需服务器中转：

- ✅ **断点续传** - 支持暂停和恢复传输
- ✅ **多文件传输** - 可同时发送多个文件
- ✅ **大文件支持** - 支持传输大文件
- ✅ **进度显示** - 实时显示传输进度

**传输速度：** 取决于局域网带宽，通常可达 10-100 MB/s

### 群聊功能 (Group Chat)

创建和管理群组聊天：

- ✅ **创建群组** - 自定义群组名称和成员
- ✅ **成员管理** - 添加/移除群成员
- ✅ **群组设置** - 修改群组名称和描述
- ✅ **角色管理** - 设置成员角色（普通成员/管理员/群主）

### 用户发现 (User Discovery)

自动发现局域网内的其他用户：

- ✅ **UDP 广播** - 使用 UDP 广播自动发现在线用户
- ✅ **协议兼容** - 兼容 FeiQ 和 IPMsg 协议客户端
- ✅ **在线状态** - 实时显示用户在线/离线状态
- ✅ **无需配置** - 无需手动添加联系人

---

## 使用教程 (Tutorial)

### 发送消息 (Sending Messages)

#### 发送文本消息

1. 在左侧联系人列表中双击要发送消息的用户
2. 在底部输入框中输入消息内容
3. 点击"发送"按钮或按 `Enter` 键发送

**[Screenshot: 聊天窗口显示发送消息界面]**

#### 消息状态说明

- 📤 **发送中** - 消息正在发送（灰色图标）
- ✅ **已发送** - 消息已成功发送（蓝色图标）
- 👁️ **已读** - 对方已阅读消息（绿色图标）
- ❌ **发送失败** - 消息发送失败（红色图标）

#### 查看消息历史

1. 在聊天窗口中向上滚动查看历史消息
2. 点击"加载更多"按钮加载更早的消息（分页加载）
3. 消息按时间顺序排列，最新的在底部

### 接收文件 (Receiving Files)

#### 接收文件请求

当有人向您发送文件时：

1. 您会收到文件传输通知
2. 点击"接受"开始下载文件
3. 选择文件保存位置
4. 等待文件传输完成

**[Screenshot: 文件接收请求对话框]**

#### 查看传输进度

- 文件传输时会在聊天窗口显示进度条
- 可以随时暂停或取消传输
- 传输失败的文件可以重新传输

### 创建群组 (Creating Groups)

#### 步骤一：创建新群组

1. 点击左侧工具栏的"创建群组"按钮
2. 输入群组名称和描述（可选）
3. 从联系人列表中选择要添加的成员
4. 点击"创建"按钮

**[Screenshot: 创建群组对话框]**

#### 步骤二：管理群组成员

1. 在群组聊天窗口中点击"群组设置"
2. 查看当前成员列表
3. 点击"添加成员"邀请新用户
4. 点击"移除"删除成员（需要管理员权限）

### 文件传输管理 (File Transfer Management)

#### 发送文件

1. 在聊天窗口中点击"发送文件"按钮
2. 选择要发送的文件（支持多选）
3. 等待对方接受文件请求
4. 开始文件传输

#### 暂停和恢复传输

- **暂停传输** - 在传输列表中点击"暂停"按钮
- **恢复传输** - 在传输列表中点击"继续"按钮
- **取消传输** - 在传输列表中点击"取消"按钮

**注意：** 断点续传功能会在您重新启动应用后自动恢复未完成的传输

---

## 常见操作 (Common Operations)

### 添加联系人 (Adding Contacts)

飞秋通讯使用 UDP 广播自动发现用户，无需手动添加联系人：

- 在同一局域网内的用户会自动出现在联系人列表中
- 用户上线后会自动显示为"在线"状态
- 用户离线后会显示为"离线"状态

### 修改个人资料 (Editing Profile)

1. 点击右上角的"设置"图标
2. 修改昵称和头像
3. 点击"保存"按钮

**注意：** 您的用户 ID 是由系统自动生成的，无法修改。

### 搜索消息 (Searching Messages)

1. 在聊天窗口中点击搜索图标
2. 输入要搜索的关键词
3. 按下 Enter 键搜索
4. 匹配的消息会高亮显示

### 导出聊天记录 (Exporting Chat History)

1. 在聊天窗口中点击"更多"菜单
2. 选择"导出聊天记录"
3. 选择导出格式（文本或 JSON）
4. 选择保存位置并确认

**[Screenshot: 导出聊天记录对话框]**

---

## 高级功能 (Advanced Features)

### 消息已读回执 (Read Receipts)

飞秋通讯自动发送已读回执：

- 当您阅读一条消息时，系统会自动向发送者发送已读回执
- 发送者会看到消息状态从"已发送"变为"已读"
- 您可以在设置中关闭自动发送已读回执功能

### 协议兼容性 (Protocol Compatibility)

飞秋通讯支持两种协议：

- **IPMsg 协议** - 标准 IP Messenger 协议（默认）
- **FeiQ 协议** - 飞秋扩展协议（支持更多功能）

应用会自动检测对方使用的协议并选择合适的通信方式。

### 网络设置 (Network Settings)

#### 修改端口号

默认使用 UDP 端口 2425。如果需要修改：

1. 打开"设置" → "网络设置"
2. 修改 UDP 端口号
3. 重启应用使设置生效

**注意：** 所有用户必须使用相同的端口号才能互相通信。

#### 防火墙设置

如果无法发现其他用户，请检查防火墙设置：

**Windows:**

1. 打开"Windows Defender 防火墙"
2. 允许飞秋通讯通过防火墙
3. 允许 UDP 端口 2425

**macOS:**

1. 打开"系统偏好设置" → "安全性与隐私" → "防火墙"
2. 添加飞秋通讯到允许列表

**Linux:**

```bash
sudo ufw allow 2425/udp
```

---

## 技巧与窍门 (Tips and Tricks)

### 快捷键 (Keyboard Shortcuts)

- `Enter` - 发送消息
- `Shift + Enter` - 换行（不发送消息）
- `Ctrl/Cmd + F` - 搜索消息
- `Ctrl/Cmd + N` - 新建聊天
- `Esc` - 关闭当前聊天窗口

### 提高文件传输速度 (Improving Transfer Speed)

1. **使用有线网络** - 有线连接通常比无线更快
2. **减少网络负载** - 传输大文件时避免其他网络活动
3. **关闭防火墙** - 临时关闭防火墙可以提高速度（不推荐）
4. **使用千兆网络** - 千兆网络可提供最高 100 MB/s 的传输速度

### 节省磁盘空间 (Saving Disk Space)

1. **定期清理聊天记录** - 在设置中设置自动清理规则
2. **清理已传输文件** - 删除不需要的接收文件
3. **压缩历史记录** - 导出并压缩旧的聊天记录

### 多设备使用 (Using Multiple Devices)

**重要提示：** 飞秋通讯设计用于单设备使用。如果您在多台设备上使用：

- 每台设备会有不同的用户 ID
- 消息不会在不同设备间同步
- 文件传输历史仅保存在发送/接收设备上

### 性能优化 (Performance Optimization)

如果应用运行缓慢：

1. **清理聊天记录** - 减少数据库大小
2. **关闭群聊** - 退出不需要的群组
3. **重启应用** - 清除内存缓存
4. **更新应用** - 使用最新版本获得性能改进

---

## 故障排除 (Troubleshooting)

遇到问题？请查看 [故障排除指南](TROUBLESHOOTING.md) 获取详细解决方案。

## 常见问题 (FAQ)

查看 [常见问题解答](FAQ.md) 获取更多帮助。

---

**版本信息：** v1.0.0
**最后更新：** 2026-01-30
**项目主页：** https://github.com/heheshang/feiqiu-communication
